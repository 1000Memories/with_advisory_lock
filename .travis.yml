language: ruby

rvm:
  - 1.8.7
  - 1.9.3

env:
  - DB=sqlite
  - DB=mysql
  - DB=postgresql

gemfile:
  - ci/Gemfile.activerecord-3.0.x
  - ci/Gemfile.activerecord-3.1.x
  - ci/Gemfile.activerecord-3.2.x

script: bundle exec rake

before_script:
  - mysql -e 'create database with_advisory_lock_test'
  - psql -c 'create database with_advisory_lock_test' -U postgres

